<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Dohyun's Workspace</title>
    <link rel="stylesheet" href="test.css" />
  </head>
  <body>
    <header class="wrap">
      <p class="sub">다재다능한 디자이너를 꿈꾸는 대학생.</p>
      <h1>김도현, 저를 소개합니다.</h1>
    </header>

    <main class="wrap">
      <section class="grid" aria-label="Jian quick grid">
        <!-- 1: 텍스트 카드 -->
        <button
          class="card"
          data-type="text"
          data-target="#d1"
          aria-controls="d1"
          aria-expanded="false"
        >
          <span class="card-title">About Me</span>
          <span class="card-desc">간단한 소개</span>
        </button>

        <!-- 2: 텍스트 카드 -->
        <button
          class="card"
          data-type="text"
          data-target="#d2"
          aria-controls="d2"
          aria-expanded="false"
        >
          <span class="card-title">Process</span>
          <span class="card-desc">작업 방식 보기</span>
        </button>

        <!-- 3: 텍스트 카드 -->
        <button
          class="card"
          data-type="text"
          data-target="#d3"
          aria-controls="d3"
          aria-expanded="false"
        >
          <span class="card-title">Programs</span>
          <span class="card-desc">사용하는 프로그램</span>
        </button>

        <!-- 4: 텍스트 카드 -->
        <!-- 4: 포트폴리오 카드 (갤러리 열기) -->
        <button class="card" id="openGallery" type="button">
          <span class="card-title">In High School</span>
          <span class="card-desc">고등학생때 작업들</span>
        </button>

        <!-- 5: 링크 카드 -->
        <a
          class="card"
          data-type="link"
          href="https://dhinchilla.github.io/bgc251fin/"
          target="_blank"
          rel="noopener"
        >
          <span class="card-title">Generative Art</span>
          <span class="card-desc">코딩 프로젝트 보기</span>
        </a>
        <!-- 6: 링크 카드 -->
        <a
          class="card"
          data-type="link"
          href="https://www.instagram.com/dohylogs/"
          target="_blank"
          rel="noopener"
        >
          <span class="card-title">Instagram</span>
          <span class="card-desc">작업 스냅</span>
        </a>
      </section>

      <!-- 펼쳐지는 텍스트 영역들 -->
      <section class="details" id="d1" hidden>
        <h2>About Me</h2>
        <p>
          때론 모던하고, 때론 개성 넘치는 디자인을 추구하는
          커뮤니케이션디자인전공 2학년 김도현입니다. <br />
          2005년 1월 22일 군산에서 태어나 취미는 드라이브입니다. 탁 트인 도로와
          노을이 지는 하늘을 볼 때 쌓여있던 스트레스가 풀리고 잡생각없이 오직
          운전에만 집중하는 그 시간이 이젠 일상이 되었습니다.
        </p>
      </section>

      <section class="details" id="d2" hidden>
        <h2>Process</h2>
        <p>
          문제정의 → 사용자 시나리오 → 와이어프레임 → 프로토타입 → 테스트/반복.
          팀과 소통하며 빠르게 가설 검증하는 방식을 선호합니다.
        </p>
      </section>

      <section class="details" id="d3" hidden>
        <h2>Programs</h2>
        <p>
          Photoshop, Illustration, After Effects, Indesign, Visual Studio Code를
          사용하고 있습니다. <br />가장 오랫동안 작업해오던 일러스트레이션이
          가장 높은 숙련도를 갖췄다고 느끼고 있습니다.
        </p>
      </section>
    </main>
    <!-- Portfolio Gallery Modal -->
    <div class="modal" id="galleryModal" hidden>
      <div class="modal-backdrop"></div>
      <!-- 카드와 통일된 '상자' 형태의 프레임 -->
      <div
        class="modal-box"
        role="dialog"
        aria-modal="true"
        aria-label="Portfolio gallery"
      >
        <button class="gal-btn close" aria-label="닫기">×</button>
        <button class="gal-btn prev" aria-label="이전">&#8592;</button>
        <img id="galleryImage" src="" alt="portfolio image" />
        <button class="gal-btn next" aria-label="다음">&#8594;</button>
      </div>
    </div>

    <script>
      // 텍스트 카드 토글
      document.querySelectorAll('.card[data-type="text"]').forEach((btn) => {
        btn.addEventListener('click', () => {
          const sel = btn.getAttribute('data-target');
          const panel = document.querySelector(sel);
          const expanded = btn.getAttribute('aria-expanded') === 'true';

          // 모든 패널 닫기(원하면 동시에 여러개 열리게 하려면 이 블록 제거)
          document
            .querySelectorAll('.details')
            .forEach((d) => (d.hidden = true));
          document
            .querySelectorAll('.card[data-type="text"]')
            .forEach((b) => b.setAttribute('aria-expanded', 'false'));

          // 현재 패널 토글
          if (!expanded) {
            panel.hidden = false;
            btn.setAttribute('aria-expanded', 'true');
            // 스크린리더/키보드 사용자 배려: 포커스 이동
            panel.setAttribute('tabindex', '-1');
            panel.focus({ preventScroll: true });
            panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        });
      });
      /* === Portfolio Gallery (최소 구현) === */
      const images = [
        'images/work0.jpg',
        'images/work1.jpg',
        'images/work2.jpg',
        'images/work3.jpg',
        'images/work4.jpg',
      ]; // 여기에 너의 이미지 경로/파일명만 맞게 넣으면 됨

      const openBtn = document.getElementById('openGallery');
      const modal = document.getElementById('galleryModal');
      const imgEl = document.getElementById('galleryImage');
      const btnPrev = modal.querySelector('.prev');
      const btnNext = modal.querySelector('.next');
      const btnClose = modal.querySelector('.close');
      const backdrop = modal.querySelector('.modal-backdrop');

      let idx = 0;
      const show = (i) => {
        idx = (i + images.length) % images.length;
        imgEl.src = images[idx];
      };
      const open = () => {
        modal.hidden = false;
        document.body.style.overflow = 'hidden';
        show(0);
      };
      const close = () => {
        modal.hidden = true;
        document.body.style.overflow = '';
      };

      openBtn.addEventListener('click', open);
      btnClose.addEventListener('click', close);
      backdrop.addEventListener('click', close);
      btnNext.addEventListener('click', () => show(idx + 1));
      btnPrev.addEventListener('click', () => show(idx - 1));

      // 키보드 지원
      window.addEventListener('keydown', (e) => {
        if (modal.hidden) return;
        if (e.key === 'Escape') close();
        if (e.key === 'ArrowRight') show(idx + 1);
        if (e.key === 'ArrowLeft') show(idx - 1);
      });
    </script>
    <footer class="footer">
      <p>© 2025 Dohyun — Designed & Branded by Myself</p>
    </footer>
  </body>
</html>
